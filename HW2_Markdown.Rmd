---
title: "HW2_Markdown"
output: github_document
author: Noah Kreski
---
``` {r setup, include = FALSE, warning = FALSE}
library(tidyverse)
# install.packages("devtools")
devtools::install_github("p8105/p8105.datasets")

library(p8105.datasets)



```
#Problem One
```{r question_one_dataset}
#I am reading in the data file.
subway_data = read.csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")%>%
              #This is to ensure workable names.
              janitor::clean_names(dat = .)%>%
              #I am selecting only the variables I need
              select(.data = ., line:entry, vending, ada)
              #I am using the car package recode function (for convenience) to recode the names of yes and no in the entry column.
              subway_data$entry <- car::recode(subway_data$entry,"'YES' = TRUE;'NO'=FALSE")
              #Now that the names are correct, I can convert to logical
              subway_data$entry <- as.logical(subway_data$entry)
```

These data describe pertinent characteristics of the NYC subway system. These include the location and name of various stations, the routes served, accessibility characteristics, and more. Cleaning thee data involved an import, using janitor to clean the names, selecting only the variables needed, and using the convert function to produce a logical vector. The dimensions of the data set are as follows: `r nrow(subway_data)` rows by 
`r ncol(subway_data)` columns using the nrwo and ncol functions.

###How many distinct subway stations are there?

There are 465 distinct station names with a unique combination of station name and line using the command distinct(subway_data, line, station_name).

###How many are ADA compliant?

```{r question_one_ada}
#I am getting the data set of distinct subway stations and keeping those that are ada-compliant
filter(distinct(subway_data,line,station_name,.keep_all = TRUE), ada == TRUE)%>%
  nrow()
```

There are 84 stations that are ADA compliant.

###What proportion of station entrances / exits without vending allow entrance?

```{r question_one_entrance}

```

#Problem Two



#Problem Three

```{r question_three_dataset}

#I am formatting appropriate names
brfss_smart2010_Tidy = janitor::clean_names(brfss_smart2010)%>%
                      #I am removing unneeded variables
                      select(-class, -topic, -question, -sample_size, -(confidence_limit_low:geo_location))%>%
                      #I am isolating necessary data values
                      filter(response %in% c("Excellent", "Very good", "Good", "Fair", "Poor"))%>%
                      #I am splitting by response category and creating a new variable
                      spread(key=response, value = data_value)%>%
                      janitor::clean_names()%>%
                      mutate(EVG = excellent + very_good)

brfss_smart2010_Tidy_2002 = filter(brfss_smart2010_Tidy, year == 2002)
```

###How many unique locations are included in the dataset? 

There are `r nrow(distinct(brfss_smart2010_Tidy, locationdesc))` locations, based on the distinct number of location descriptions.

###Is every state represented? 

Every state is represented given that there are `r nrow(distinct(brfss_smart2010_Tidy, locationabbr))` location abbreviations which account for all states and Washington D.C.


###What state is observed the most?
```{r state_freq}

table(brfss_smart2010_Tidy$locationabbr)

```

Using the table function, which listed the number of observations for each location abbreviation, the 50 states and Washington DC, it can be seen that New Jersey, with 146 observations, is the most observed.


###In 2002, what is the median of the “Excellent” response value?

The median of the Excellent response value in 2002 is `r median(brfss_smart2010_Tidy_2002$excellent, na.rm=TRUE)` using the median function.


###Make a histogram of “Excellent” response values in the year 2002.

```{r excellent_historgram, warning = FALSE}
ggplot(brfss_smart2010_Tidy_2002, aes(x = excellent)) + 
  geom_histogram(position = "dodge", binwidth = 2)
```

###Make a scatterplot showing the proportion of “Excellent” response values in New York County and Queens County (both in NY State) in each year from 2002 to 2010.
```{r data_NY, include = FALSE}
brfss_smart2010_Tidy_NY = filter(brfss_smart2010_Tidy, locationdesc %in% c("NY - New York County","NY - Queens County"))
```
```{r scatterplot_NY}
ggplot(brfss_smart2010_Tidy_NY, aes(x = year, y = excellent)) + 
  geom_point(aes(color = locationdesc))
```
